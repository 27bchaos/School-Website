<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>US Gov Dart Challenge - Multiplayer</title>
<style>
body { font-family: sans-serif; background:#e3eefc; text-align:center; }
h1{color:#1a3c6d;}
#gameContainer{margin-top:20px;}
#questionBox{background:#fff;padding:20px;margin:0 auto;width:60%;border-radius:10px;box-shadow:0 0 10px #aaa;}
button{margin:5px;padding:10px 18px;border:none;border-radius:6px;background:#1a3c6d;color:white;cursor:pointer;}
button:hover{background:#345b8c;}
#dartboard{margin:30px auto;width:300px;height:300px;border-radius:50%;background:radial-gradient(circle, red 0 20px, white 20px 60px, blue 60px 120px, white 120px 150px);position:relative;}
.dart{width:10px;height:30px;background:black;position:absolute;border-radius:3px;}
#powerBar{height:20px;width:200px;background:lightgray;border-radius:5px;margin:10px auto;overflow:hidden;}
.power{height:100%;width:0%;background:limegreen;}
#playerSelect{margin-top:30px;}
</style>
</head>
<body>

<h1>ðŸŽ¯ US Gov Dart Challenge</h1>
<div id="playerSelect">
  <h3>Select Mode:</h3>
  <button onclick="startSingle()">Single Player</button>
  <button onclick="startMulti()">Multiplayer</button>
</div>

<div id="gameContainer" style="display:none;">
  <div id="questionBox">
    <h2 id="question"></h2>
    <div id="answers"></div>
  </div>

  <div id="scoreBoard"></div>

  <div id="dartboard">
    <!-- Darts will appear here -->
  </div>

  <h2 id="result"></h2>
</div>

<script>
const questions = [
  {q:"Which branch of government makes the laws?", a:["Legislative","Executive","Judicial"], c:0},
  {q:"Which branch enforces the laws?", a:["Legislative","Executive","Judicial"], c:1},
  {q:"Which branch interprets the laws?", a:["Judicial","Executive","Legislative"], c:0},
  {q:"Congress is part of which branch?", a:["Judicial","Legislative","Executive"], c:1},
  {q:"The President leads which branch?", a:["Legislative","Executive","Judicial"], c:1},
  {q:"The Supreme Court is part of which branch?", a:["Executive","Judicial","Legislative"], c:1},
  {q:"What is the main responsibility of the Legislative Branch?", a:["Enforce laws","Make laws","Interpret laws"], c:1},
  {q:"Who helps the President run the Executive Branch?", a:["Congress","Cabinet","Supreme Court"], c:1},
  {q:"Which branch can declare laws unconstitutional?", a:["Judicial","Legislative","Executive"], c:0},
  {q:"Which branch approves the federal budget?", a:["Executive","Legislative","Judicial"], c:1},
  {q:"Who can issue executive orders?", a:["Congress","President","Supreme Court"], c:1},
  {q:"What does the Judicial Branch use to review laws?", a:["Judicial review","Impeachment","Treaties"], c:0},
  {q:"Which branch conducts oversight investigations?", a:["Legislative","Judicial","Executive"], c:0},
  {q:"Recognizing foreign nations is a duty of which branch?", a:["Executive","Legislative","Judicial"], c:0},
  {q:"Who sentences offenders and establishes judicial procedures?", a:["Congress","Supreme Court","President"], c:1},
];

let players = [];
let currentPlayer = 0;
let index = 0;

const qBox = document.getElementById('question');
const ansBox = document.getElementById('answers');
const result = document.getElementById('result');
const gameContainer = document.getElementById('gameContainer');
const playerSelect = document.getElementById('playerSelect');
const dartboard = document.getElementById('dartboard');
const scoreBoard = document.getElementById('scoreBoard');

function startSingle() {
  players = [{name:"Player 1", score:0}];
  startGame();
}

function startMulti() {
  const p1 = prompt("Enter Player 1 Name:", "Player 1");
  const p2 = prompt("Enter Player 2 Name:", "Player 2");
  players = [{name:p1||"Player 1", score:0},{name:p2||"Player 2", score:0}];
  startGame();
}

function startGame() {
  playerSelect.style.display="none";
  gameContainer.style.display="block";
  index=0;
  currentPlayer=0;
  renderScore();
  loadQuestion();
}

function renderScore(){
  scoreBoard.innerHTML = players.map(p=>`${p.name}: ${p.score}`).join(" | ");
}

function loadQuestion(){
  if(index >= questions.length){
    endGame();
    return;
  }
  const q = questions[index];
  qBox.textContent = `${players[currentPlayer].name}'s turn: ${q.q}`;
  ansBox.innerHTML = "";
  q.a.forEach((opt,i)=>{
    let btn = document.createElement("button");
    btn.textContent = opt;
    btn.onclick = ()=>checkAnswer(i);
    ansBox.appendChild(btn);
  });
}

function checkAnswer(i){
  if(i === questions[index].c){
    players[currentPlayer].score++;
  }
  renderScore();
  currentPlayer++;
  if(currentPlayer >= players.length){
    currentPlayer=0;
    index++;
  }
  loadQuestion();
}

function endGame(){
  qBox.textContent = "All questions answered!";
  ansBox.innerHTML="";
  result.textContent="Launching darts!";
  // create darts
  dartboard.innerHTML = "";
  players.forEach((p,i)=>{
    let dart = document.createElement("div");
    dart.className="dart";
    dart.style.left = (50 + i*40)+"px";
    dartboard.appendChild(dart);
    // dart launch animation based on score
    let power = p.score/questions.length;
    let distance = 250*(1-power);
    setTimeout(()=>{ dart.style.transition="bottom 1s ease-out"; dart.style.bottom=distance+"px"; },500);
  });
  // final message
  setTimeout(()=>{
    const winner = players.reduce((a,b)=>a.score>b.score?a:b);
    result.textContent = `Winner: ${winner.name} with ${winner.score} correct!`;
  },1500);
}
</script>

</body>
</html>
