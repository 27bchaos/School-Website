<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>US Gov Cup Catch Quiz</title>
<style>
body { font-family: sans-serif; background:#e3eefc; text-align:center; margin:0; overflow:hidden;}
h1{color:#1a3c6d; margin-top:20px;}
button{margin:5px;padding:10px 18px;border:none;border-radius:6px;background:#1a3c6d;color:white;cursor:pointer;font-size:16px;}
button:hover{background:#345b8c;}
#gameContainer{margin-top:20px;}
#cupContainer{position:relative; width:600px; height:400px; margin:30px auto; background:#d0f0f0; border:2px solid #1a3c6d; border-radius:10px; overflow:hidden;}
.cup{position:absolute; bottom:10px; width:80px; height:60px; border-radius:10px; text-align:center; color:white; font-weight:bold; line-height:60px; font-size:16px;}
.ball{position:absolute; width:10px; height:10px; border-radius:50%; background:black;}
#scoreBoard{font-size:18px; color:#1a3c6d;}
#timerDisplay{font-size:18px; color:#1a3c6d; margin-top:10px;}
</style>
</head>
<body>

<h1>ðŸŽ¯ US Gov Cup Catch Game</h1>

<div id="gameContainer">
  <div id="scoreBoard">Score: 0</div>
  <div id="timerDisplay">Time: 30s</div>
  <div id="cupContainer"></div>
  <h2 id="result"></h2>
  <button id="startBtn">Start Game</button>
</div>

<script>
const cupContainer = document.getElementById('cupContainer');
const scoreBoard = document.getElementById('scoreBoard');
const timerDisplay = document.getElementById('timerDisplay');
const result = document.getElementById('result');
const startBtn = document.getElementById('startBtn');

let cup, score=0, gameInterval, timeLeft=30, ballInterval;

// === CREATE MOVABLE CUP ===
function createCup(){
  cup = document.createElement('div');
  cup.className='cup';
  cup.style.left = '260px'; // center start
  cup.style.background = 'red';
  cup.textContent = '10';
  cup.dataset.points = 10;
  cupContainer.appendChild(cup);
}

// === CUP CONTROL ===
document.addEventListener('keydown', (e)=>{
  if(!cup) return;
  let left = parseFloat(cup.style.left);
  if(e.key==='ArrowLeft') left -= 20;
  if(e.key==='ArrowRight') left += 20;
  if(left<0) left=0;
  if(left>520) left=520; // container width - cup width
  cup.style.left = left+'px';
});

// === DROP BALL ===
function dropBall(){
  const ball = document.createElement('div');
  ball.className='ball';
  ball.style.left = (Math.random()*590)+'px';
  ball.style.bottom = '380px';
  cupContainer.appendChild(ball);

  let vy=-2, vx=(Math.random()-0.5)*1;
  const interval = setInterval(()=>{
    let bottom = parseFloat(ball.style.bottom);
    let left = parseFloat(ball.style.left);

    bottom += vy;
    left += vx;

    // Gravity
    vy -= 0.1;

    // Bounce off walls
    if(left<0){ left=0; vx*=-1; }
    if(left>590){ left=590; vx*=-1; }

    // Check collision with cup
    const cupLeft = parseFloat(cup.style.left);
    if(bottom<=70 && left+10>cupLeft && left<cupLeft+80){
      score += parseInt(cup.dataset.points);
      scoreBoard.textContent = 'Score: '+score;
      ball.remove();
      clearInterval(interval);
      return;
    }

    // Remove if hits bottom
    if(bottom<=0){
      ball.remove();
      clearInterval(interval);
      return;
    }

    ball.style.left = left+'px';
    ball.style.bottom = bottom+'px';
  },20);
}

// === START GAME ===
function startGame(){
  startBtn.style.display='none';
  score=0;
  scoreBoard.textContent='Score: 0';
  result.textContent='';
  cupContainer.innerHTML='';
  createCup();

  timeLeft=30;
  timerDisplay.textContent='Time: '+timeLeft+'s';

  ballInterval = setInterval(dropBall,1000); // drop 1 ball per second

  gameInterval = setInterval(()=>{
    timeLeft--;
    timerDisplay.textContent='Time: '+timeLeft+'s';
    if(timeLeft<=0){
      clearInterval(gameInterval);
      clearInterval(ballInterval);
      result.textContent='ðŸ Game Over! Your score: '+score;
      startBtn.style.display='inline-block';
    }
  },1000);
}

startBtn.onclick=startGame;
</script>
